{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ClaudeCode Settings Schema",
  "description": "Schema for ClaudeCode project settings configuration",
  "type": "object",
  "properties": {
    "description": {
      "type": "string",
      "description": "Human-readable description of this configuration"
    },
    "allowedTools": {
      "type": "array",
      "description": "List of tools that are explicitly allowed",
      "items": {
        "type": "string",
        "pattern": "^[a-zA-Z0-9_-]+$"
      },
      "uniqueItems": true
    },
    "disallowedTools": {
      "type": "array",
      "description": "List of tools that are explicitly disallowed",
      "items": {
        "type": "string",
        "pattern": "^[a-zA-Z0-9_-]+$"
      },
      "uniqueItems": true
    },
    "toolRestrictions": {
      "type": "object",
      "description": "Detailed restrictions for specific tools",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "allowedCommands": {
            "type": "array",
            "items": {"type": "string"}
          },
          "disallowedCommands": {
            "type": "array",
            "items": {"type": "string"}
          },
          "allowedDirectories": {
            "type": "array",
            "items": {"type": "string"}
          },
          "disallowedPaths": {
            "type": "array",
            "items": {"type": "string"}
          },
          "maxFileSize": {
            "type": "number",
            "minimum": 0
          },
          "maxResults": {
            "type": "number",
            "minimum": 1
          },
          "executionTimeout": {
            "type": "number",
            "minimum": 1000
          }
        }
      }
    },
    "permissions": {
      "type": "object",
      "description": "Fine-grained permission control for file and command access",
      "properties": {
        "allow": {
          "type": "array",
          "description": "List of allowed actions (e.g., 'Read(./src/**)', 'Bash(npm:*)')",
          "items": {"type": "string"}
        },
        "deny": {
          "type": "array",
          "description": "List of denied actions (e.g., 'Read(./.env)', 'Write(./secrets/**)')",
          "items": {"type": "string"}
        },
        "ask": {
          "type": "array",
          "description": "List of actions that require explicit user approval",
          "items": {"type": "string"}
        },
        "defaultMode": {
          "type": "string",
          "description": "Default permission mode for actions not covered by allow/deny/ask",
          "enum": ["acceptEdits", "ask", "reject"]
        }
      }
    },
    "env": {
      "type": "object",
      "description": "Environment variables to set for all tool executions",
      "additionalProperties": {
        "type": "string"
      }
    },
    "llm": {
      "type": "object",
      "description": "Language model configuration",
      "properties": {
        "model": {
          "type": "string",
          "description": "Claude model to use (e.g., 'claude-sonnet-4-20250514', 'claude-3-opus-20260101')"
        },
        "temperature": {
          "type": "number",
          "description": "Model temperature setting (0.0 to 1.0)",
          "minimum": 0,
          "maximum": 1
        },
        "maxTokens": {
          "type": "number",
          "description": "Maximum tokens for model responses",
          "minimum": 1
        }
      }
    },
    "execution": {
      "type": "object",
      "description": "Execution configuration",
      "properties": {
        "timeout": {
          "type": "number",
          "description": "Maximum execution time in seconds",
          "minimum": 1
        },
        "maxConcurrent": {
          "type": "number",
          "description": "Maximum number of concurrent operations",
          "minimum": 1
        }
      }
    },
    "limits": {
      "type": "object",
      "description": "Global resource limits",
      "properties": {
        "maxFileSize": {
          "type": "number",
          "description": "Maximum file size in bytes",
          "minimum": 0
        },
        "maxResults": {
          "type": "number",
          "description": "Maximum number of results for search operations",
          "minimum": 1
        },
        "maxMemory": {
          "type": "number",
          "description": "Maximum memory usage in MB",
          "minimum": 1
        }
      }
    },
    "hooks": {
      "type": "object",
      "description": "Event hooks for session lifecycle",
      "properties": {
        "SessionStart": {
          "type": "array",
          "description": "Commands to run when session starts",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": ["command", "prompt", "agent"]
              },
              "command": {
                "type": "string"
              },
              "matcher": {
                "type": "string",
                "enum": ["startup", "resume", "compact"]
              }
            }
          }
        },
        "SessionEnd": {
          "type": "array",
          "description": "Commands to run when session ends",
          "items": {"type": "object"}
        },
        "BeforeEdit": {
          "type": "array",
          "description": "Commands to run before file edits",
          "items": {"type": "object"}
        },
        "AfterEdit": {
          "type": "array",
          "description": "Commands to run after file edits",
          "items": {"type": "object"}
        }
      }
    },
    "agents": {
      "type": "array",
      "description": "Custom agent configurations",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Agent name"
          },
          "path": {
            "type": "string",
            "description": "Path to agent configuration file"
          },
          "permissions": {
            "type": "object",
            "description": "Agent-specific permissions"
          },
          "model": {
            "type": "string",
            "description": "Model to use for this agent"
          }
        },
        "required": ["name"]
      }
    },
    "plugins": {
      "type": "array",
      "description": "Enabled plugins for the project",
      "items": {"type": "string"}
    },
    "theme": {
      "type": "string",
      "description": "UI theme preference",
      "enum": ["light", "dark", "auto"]
    },
    "verbose": {
      "type": "boolean",
      "description": "Enable verbose output"
    },
    "notes": {
      "type": "array",
      "description": "Additional notes and guidance",
      "items": {
        "type": "string"
      }
    }
  },
  "required": ["allowedTools"],
  "additionalProperties": true
}
